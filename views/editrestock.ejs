<%- include('partials/header') %>
<%- include('partials/nav') %>

<main>
<section class="inputSection">
    <div class="container input-container mt-3 col-lg-5">
        <h2 class="text-center restock-header">Edit Restock Item Info</h2>
        <form 
            action="/restock/<%= restockItem._id %>/?_method=PUT" 
            method='POST'>
            <div class="form-floating mb-3">
                <input type="text" class="form-control shadow text-center" id="floatingRestockBrand" placeholder="Brand" name='brand' value="<%= restockItem.brand %>">
                <label for="floatingBrand">Brand</label>
            </div>
            <div class="form-floating mb-3">
                <input type="text" required class="form-control shadow text-center" id="floatingRestockDescription" placeholder="Description" name='description' value="<%= restockItem.description %>">
                <label for="floatingDescription">Description</label>
            </div>
            <div class="d-flex justify-content-center quantity-row">
                <div class="quantity-increment d-inline-flex align-items-center justify-content-center col">
                    <div class="minus">
                        <i class="fa fa-minus-circle" id="quantityMinus"></i>
                    </div>
                    <div class="form-floating mb-3 col-5">
                        <input type="number" required min="0" value="<%= restockItem.quantity %>"step="1" class="form-control shadow quantity-input text-center" id="floatingQuantity" placeholder="Quantity" name='quantity'>
                        <label for="floatingQuantity"> Quantity *</label>
                    </div>
                    <div class="plus">
                        <i class="fa fa-plus-circle" id="quantityPlus"></i>
                    </div>
                </div>
            </div>
            <div class="form-floating mb-3">
                <input type="text" class="form-control shadow text-center" id="floatingRestockStore" placeholder="Store" name='store' value="<%= restockItem.store %>">
                <label for="floatingRestockStore">Store</label>
            </div>
            <div class="form-floating">
                <input class="form-control text-center shadow" type="text" name="comments" placeholder="Comments" id="floatingRestockComments" style="height: 100px" value="<%= restockItem.comments %>">
                <label for="floatingComments">Comments / Coupons / Deals</label>
            </div>
            <p class="text-white text-center required-text mt-2">* indicates required field</p>
            <div class="d-flex justify-content-between mt-3 editButtonRow">
                <div class="d-flex cancelSubmit-container"> 
                    <a href="/restock" class="btn btn-lg btn-secondary shadow" id="newRestockCancel">Cancel</a>
                    <button type="submit" value="Save" id="newRestockSubmit" class="btn btn-lg btn-primary shadow">Submit</button>
                </div>
        </form>
                <!-- Button trigger modal -->
                <button class="btn btn-danger shadow" type="button" id="newRestockDelete" data-bs-toggle="modal" data-bs-target="#exampleModal">
                    <i class="fa fa-trash-can"></i>
                </button>
            </div>
    </div>
</section>
</main>
    
  <!-- Modal -->
  <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Confirm: Delete Restock Item</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body text-center">
          Are you sure you want to delete this item?
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-outline-secondary modal-btn mx-3" data-bs-dismiss="modal">Cancel</button>
          <form
            action="/restock/deleteRestock/<%= restockItem.id %>?_method=DELETE"
            method="POST"
            class="col-3"
            >
            <button type="submit" class="btn btn-outline-danger modal-btn">Delete</button>
        </form>
        </div>
      </div>
    </div>
  </div>

<%- include('partials/footer') %>